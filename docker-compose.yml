version: "3.9"

services:
  rest-api:
    image: ghcr.io/stefanelul2000/ethical-hacking-apps-docker:main
    container_name: ethical-hacking-rest-api-prod
    restart: unless-stopped
    environment:
      REPO_URL: https://github.com/stefanelul2000/ethical-hacking-apps.git
      REPO_BRANCH: master
      PROJECT_SUBDIR: rest-api
      UVICORN_HOST: 0.0.0.0
      UVICORN_PORT: 8000
      UVICORN_RELOAD: "0"
      UPLOAD_BASIC_AUTH_USERNAME: uploader
      UPLOAD_BASIC_AUTH_PASSWORD: upload-secret
      UPLOAD_MAX_STORAGE_PER_USER: 52428800
      UPLOAD_MAX_STORAGE_GLOBAL: 524288000
      UPLOAD_RATE_WINDOW_SECONDS: 60
      UPLOAD_RATE_MAX_REQUESTS: 30
      UPLOAD_TTL_SECONDS: 604800
    ports:
      - 8000:8000

  ai-mcp-client-master:
    image: ghcr.io/stefanelul2000/ethical-hacking-apps-docker:ai-mcp-client-master
    container_name: ethical-hacking-mcp-client-prod
    restart: unless-stopped
    environment:
      REPO_URL: https://github.com/stefanelul2000/ethical-hacking-apps.git
      REPO_BRANCH: master
      PROJECT_SUBDIR: ai/agents
      UVICORN_HOST: 0.0.0.0
      UVICORN_PORT: 8001
      UVICORN_RELOAD: "0"
      MCP_ADMIN_USER: admin
      MCP_ADMIN_PASS: changeme
      GROQ_MODEL: llama-3.1-8b-instruct
      GROQ_API_KEY: REPLACE_ME
    ports:
      - 8001:8000

  ai-mcp-client-arh:
    image: ghcr.io/stefanelul2000/ethical-hacking-apps-docker:ai-mcp-client-arh
    container_name: ethical-hacking-mcp-client-dev
    restart: unless-stopped
    environment:
      REPO_URL: https://github.com/stefanelul2000/ethical-hacking-apps.git
      REPO_BRANCH: arh
      PROJECT_SUBDIR: ai/agents
      UVICORN_HOST: 0.0.0.0
      UVICORN_PORT: 8002
      UVICORN_RELOAD: "0"
      MCP_ADMIN_USER: admin
      MCP_ADMIN_PASS: changeme
      GROQ_MODEL: llama-3.1-8b-instruct
      GROQ_API_KEY: REPLACE_ME
    ports:
      - 8002:8000

  ai-mcp-server-master:
    image: ghcr.io/stefanelul2000/ethical-hacking-apps-docker:ai-mcp-server-master
    container_name: ethical-hacking-mcp-server-prod
    restart: unless-stopped
    environment:
      REPO_URL: https://github.com/stefanelul2000/ethical-hacking-apps.git
      REPO_BRANCH: master
      PROJECT_SUBDIR: ai/agents
      MCP_SERVER_TRANSPORT: http
      MCP_SERVER_HOST: 0.0.0.0
      MCP_SERVER_PORT: 9001
      ENABLE_MCP_COMMAND_TOOL: "0"
    ports:
      - 9001:8001

  ai-mcp-server-arh:
    image: ghcr.io/stefanelul2000/ethical-hacking-apps-docker:ai-mcp-server-arh
    container_name: ethical-hacking-mcp-server-dev
    restart: unless-stopped
    environment:
      REPO_URL: https://github.com/stefanelul2000/ethical-hacking-apps.git
      REPO_BRANCH: arh
      PROJECT_SUBDIR: ai/agents
      MCP_SERVER_TRANSPORT: http
      MCP_SERVER_HOST: 0.0.0.0
      MCP_SERVER_PORT: 9002
      ENABLE_MCP_COMMAND_TOOL: "0"
    ports:
      - 9002:8001
